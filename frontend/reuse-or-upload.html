<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Existing Data Found</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">
  <div class="container mt-5">
    <div class="card p-4 shadow-sm">
      <h4>📁 Existing Files Detected</h4>
      <p class="text-muted">We found both uploaded data and analysis output for this module.</p>

      <div class="mb-3">
        <!-- <a class="btn btn-outline-primary me-2" id="reuseLink">📊 View Results</a>
        <a href="/upload.html" class="btn btn-outline-danger">🔁 Run New Analysis</a> -->
        <a id="reuseLink" class="btn btn-outline-primary me-2">📊 View Results</a>
        <a id="newRunLink" class="btn btn-outline-danger">🔁 Run New Analysis</a>

      </div>
    </div>
    <a href="/select-module.html" class="btn btn-sm btn-outline-secondary mb-3">← Back to Home</a>

  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const user = params.get('user');
    const module = params.get('module');

    document.getElementById('reuseLink').href = `/analysis-result.html?user=${encodeURIComponent(user)}&module=${encodeURIComponent(module)}`;
    document.getElementById('newRunLink').href =`/upload.html?user=${encodeURIComponent(user)}&module=${encodeURIComponent(module)}&warn=1`;

    // const params = new URLSearchParams(window.location.search);
    // const user = params.get('user');
    // const module = params.get('module');

    // const reuseLink = document.getElementById('reuseLink');
    // reuseLink.href = `/analysis-result.html?user=${encodeURIComponent(user)}&module=${encodeURIComponent(module)}`;
  </script>
</body>
</html>
